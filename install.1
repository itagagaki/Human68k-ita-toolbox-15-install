


INSTALL(1)     Human68k ITA TOOLBOX User's Manual      INSTALL(1)



名称
     install - コマンド・ファイルをインストールする

形式
     install [ -cpsvz ] [ -m expression ] [ -- ] file dest

     install [ -cpsvzx ] [ -m expression ] [ -- ] file ...
     targetdir

解説
     install は Human68k 実行可能形式ファイルやシェル・スクリプト
     などのコマンド・ファイルを目的の場所に移動します．移動先にファ
     イルが存在している場合には上書きされます．ファイルの属性は，
     デフォルトでは -a--r-x つまり書き込み不可で実行可能な通常ファ
     イルとなります．

     第1の形式では file を dest に移動します．

     第2の形式では file ... のそれぞれを元のファイル名のままディ
     レクトリ targetdir の中に移動します（ただし -x オプションを
     指定すると，file 拡張子が .x かまたは .X である場合には拡張
     子は削除されます）．file ... は左から右に順番に処理され，も
     し途中でエラーがあっても処理は最後まで続行されます．

     この 2つの形式は，最後の引数がディレクトリ（またはディレクト
     リへのシンボリック・リンク）であるかどうかで区別されます．な
     お，最後の引数が‘A:’のようなドライブ指定のみである場合は，
     そのドライブのカレント・ディレクトリが指定されたものとし，第
     2の形式として処理されます．

     install には次のオプションがあります．

     -c             file を移動するかわりにコピーし，file はその
                    まま保存されます．コピーしたファイルのタイム
                    スタンプは -p オプションを指定しなければ更新
                    されます．

     -p             file の属性を変更しません．-m オプションは
                    file の属性に対して働きます．

                    また，-c オプション指定時には file のタイムス
                    タンプもコピーします．ただし -s オプションま
                    たは -z オプションを指定するとタイムスタンプ
                    は更新される可能性があります．

     -s             移動またはコピーしたファイルがシンボル情報や
                    デバッグ情報を含んでいればそれらを除去します．
                    その場合ファイルのタイムスタンプは更新されま
                    す．

     -v             移動またはコピーする前にパス名を表示します．

     -x             file の拡張子が .x かまたは .X である場合に，
                    拡張子を削除した名前で移動またはコピーします．

     -z             移動またはコピーしたファイルがシンボル情報や
                    デバッグ情報を含んでいればそれらを除去します．
                    その場合ファイルのタイムスタンプは更新されま
                    す．さらに，可能ならばＦ＆Ｉ氏の lzx.x を用い
                    て圧縮します．

     以上のオプションは -c -s のようにそれぞれ単独に記述すること
     もできますし，-cs のように連結して指定することもできます．

     -m expression  インストールするファイルに与える属性を
                    expression に従って変更します．デフォルトでは
                    自動的に "=arx," が expression に先行します．
                    -p オプション指定時には file の属性に対して働
                    きます．

                         この機能は ITA TOOLBOX の chmod(1) に準
                    じます．expression は単一の引数でなければなり
                    ません．expression の書式は ITA TOOLBOX の
                    chmod(1) と同じです．

     -m オプションを複数指定した場合には，最後の指定が有効となり
     ます．

     -m オプションは単独で指定しなければなりません．

     引数‘--’は，残りの引数を非オプション引数とします．引数‘-’
     は非オプション引数と見なされます．

環境変数
     temp      -z オプション指定時に一時ファイルが作成されるディ
               レクトリ

関連事項
     mv(1), cp(1), chmod(1), strip(1),
     lzx のドキュメント

診断
     何らかのエラーがあったときにはエラー・メッセージが標準エラー
     出力に出力されます．

     終了ステータスとしては，引数の記述に間違いがあった場合には 1，
     各引数の処理中に何らかのエラーが 1度でもあった場合には 2，メ
     モリ不足や OS のバージョンの違いなど，システムの原因により正
     常に実行ができなかった場合には 3，すべてが正常に終了したなら
     ば 0 が返ります．^C などによって中断したときの終了ステータス
     は OS あるいは fish の仕様によります．

不具合
     第2の形式で，targetdir がカレント・ドライブとは別のドライブ
     にある場合，そのドライブのカレント・ディレクトリが targetdir
     に変更されてしまいます．

     -z オプションを指定すると，環境変数 temp の指すディレクトリ
     がカレント・ドライブとは別のドライブにある場合，そのドライブ
     のカレント・ディレクトリが temp の指すディレクトリに変更され
     てしまいます．

     lzx.x の出力メッセージは抑止されません．

バージョン
     0.1

制作・著作
     Copyright(C)1993 by 板垣 史彦 (Itagaki Fumihiko)



0.1                 Last change: 23 Aug 1993     Itagaki Fumihiko



